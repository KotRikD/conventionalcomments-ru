---
title: "Conventional Comments"
description: "Комментарии, которые легко прочесть и понять"
---

Подобные комментарии бесполезны...
{{< comment author="caterpillar" >}}
Эта формулировка не верна.
{{< /comment >}}

Если просто указать метку комментарию, намерения станут более ясными, а тон сообщения резко изменится.
{{< comment author="caterpillar" >}}
**suggestion:** Эта формулировка не верна.
{{< /comment >}}
{{< comment author="caterpillar" >}}
**nitpick (non-blocking):** Эта формулировка не верна.
{{< /comment >}}

Метки также побуждают рецензента давать более практичные комментарии.
{{< comment author="caterpillar" >}}
**suggestion:** Эта формулировка не верна.

Можем ли мы изменить это в соответствии с формулировкой маркетинговой страницы?
{{< /comment >}}

Проставление "меток" комментариям экономит **часы** недопониманий и недосказанности. А также их могут разбирать машины!

## Примеры

{{< comment author="alice" >}}
**suggestion:** Давай избегать использования этой функций...

Если мы ссылаемся на часть функции с пометкой "Deprecated", то рано или поздно нам придётся это переписывать.
{{< /comment >}}

{{< comment author="7ofspades" >}}
**issue (ux,non-blocking):** Эти кнопки должны быть красными, но давайте разберемся с этим позже.
{{< /comment >}}

## Целевая аудитория

Conventional Comments - является стандартом для форматирования комментариев любого вида процесса рецензирования / обратной связи, например:

- [Код ревью](https://ru.wikipedia.org/wiki/Code_review)
- [Рецензирование (Peer Review)](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)
- [RFC](https://ru.wikipedia.org/wiki/RFC)
- [Revising](<https://en.wikipedia.org/wiki/Revision_(writing)>) и [editing](https://en.wikipedia.org/wiki/Editing)

## Форматирование

Соблюдение последовательного формата улучшает ожидания читателя и повышает читабельность для машин.
Вот формат, который мы предлагаем:

```
<метка> [доп. метки]: <тема>

[дополнения]
```

- _метка_ - Это метка, обозначающая, какой тип комментария оставлен.
- _тема_ - Основная суть комментария
- _доп. метки (по желанию)_ - Это доп. метки для комментариев. Они обёрнута в скобки и должны быть разделены запятыми.
- _дополнения (по желанию)_ - Здесь содержатся вспомогательные утверждения, контекст, аргументация и все остальное, что поможет донести "почему" и "следующие шаги" для разрешения комментария.

Например:

{{< comment author="mouse" >}}
**question (non-blocking):** На данный момент имеет ли значение, какой тред выиграл?

Может быть, чтобы предотвратить состояние гонки, мы должны продолжать цикл, пока они все не закончат своё выполнение?
{{< /comment >}}

Может быть автоматически превращено в:

```json
{
  "label": "question",
  "subject": "На данный момент имеет ли значение, какой тред выиграл?",
  "decorations": ["non-blocking"],
  "discussion": "Может быть, чтобы предотвратить состояние гонки, мы должны продолжать цикл, пока они все не закончат своё выполнение?"
}
```

## Метки

Мы настоятельно рекомендуем использовать следующие метки:

|                 |                                                                                                                                                                                                                                                                                           |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **praise:**     | Похвала подчеркивает что-то положительное. Постарайтесь оставить хотя бы один такой комментарий в рамках рецензии. _Не оставляйте_ фальшивых похвал (это может привести к серьезным последствиям). _Старайтесь_ найти действительно что-то, что достойно похвалы.                                                                                  |
| **nitpick:**    | Придирки - это тривиальные запросы, основанные на предпочтениях. Они должны быть неблокирующими. |
| **suggestion:** | Предложения - как ни странно предлагают различные улучшения. Важно четко и ясно представлять, что предлагается и почему это является улучшением. Рассмотрите возможность использования патчей, _blocking_ или _non-blocking_ доп. меток для дальнейшего информирования о ваших намерениях. |
| **issue:**      | Вопросы освещают конкретные проблемы, связанные с рассматриваемым предметом. Эти проблемы могут возникать как непосредственно у пользователя, так и за кулисами. Настоятельно рекомендуется соединить этот комментарий с `suggestion`. Если вы не уверены, существует ли проблема или нет, подумайте о том, чтобы оставить `question`.             |
| **todo:**       | TODO - это небольшие, тривиальные, но необходимые изменения. Важно отличать такие комментарии от проблем или предложений. В любом случае стоит направить внимание читателя на комментарии, требующие большего участия. |
| **question:**   | Вопросы уместны, если у вас есть потенциальное беспокойство, но вы не совсем уверены, уместно оно или нет. Обращение к автору за разъяснениями или расследованием может привести к быстрому разрешению проблемы.                                                                                            |
| **thought:**    | Мысли представляют собой идею, которая возникла в результате рецензирования. Эти комментарии не являются блокирующими по своей природе, но они чрезвычайно ценны и могут сформировать новую точку зрения у читателя.                                                                                |
| **chore:**      | Это рутиные задания, которые необходимо выполнить, прежде чем предмет рецензии будет принят "официально". Обычно эти комментарии ссылаются на какой-то общий процесс. Постарайтесь оставить ссылку на описание процесса, чтобы читатель знал, как решить эту задачу.                                      |

Если вы хотите быть немного более выразительными со своими метками, вы также можете рассмотреть:

|    |    |
|----|----|
| **typo:** | Комментарии с опечатками похожи на **todo:**, но основной проблемой является орфографическая ошибка. |
| **polish:** | "Полировочные" комментарии похожи на **suggestion:**, где в контенте нет ничего плохого, просто есть несколько способов улучшить качество. |
| **quibble:** | Комментарии очень похожи на **nitpick:**, за исключением того, что они не вызывают ненавсити или желания придушить рецензента. |

Не стесняйтесь отклоняться от этого списка меток, если это кажется уместным.

## Дополнительные метки

Такие метки дают дополнительный контекст комментарию. Они помогают дополнительно классифицировать комментарии, которые имеют одну и ту же метку (например, предложение по безопасности в отличие от предложения по тестированию).

{{< comment author="ccat" >}}
**suggestion (security):** Я немного обеспокоен тем, что мы реализуем здесь нашу собственную функциональность очистки DOM...

Может рассмотрим возможность использования фреймворка вместо этого?
{{< /comment >}}

{{< comment author="ccat" >}}
**suggestion (test,if-minor):** Кажется, здесь нам нехватает теста, чтобы наше покрытие не расходилось.

{{< /comment >}}

Дополнительные метки могут разница от компании к компании. Если это нужно, мы рекомендуем стабильно использовать этот набор доп. меток (оставляем на ваше усмотрение)

Сюда входят:

|                    |                                                                                                                                                                                                         |
| ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **(non-blocking)** | Комментарий с такой меткой **не должен** препятствовать принятию рассматриваемой темы. Это полезно для команд, которые считают комментарии - по умолчанию блокирующими.                       |
| **(blocking)**     | Комментарий с такой меткой **должен** препятствовать принятию рассматриваемой темы до тех пор, пока она не будет решена. Это полезно для команд, которые считают комментарии - по умолчанию неблокирующими. |
| **(if-minor)**     | Эта метка дает некоторую свободу автору в том, что он должен разрешить комментарий только в том случае, если изменения окажутся незначительными или тривиальными.                                                               |

Добавление дополнительных меток в комментарии должны улучшить читабельность. Наличие списка из множества обычных меток в одном комментарии противоречило бы этой цели.

## Больше примеров

{{< comment author="hatter" >}}
**nitpick:** `little star` => `little capybara`

Можем ли мы обновить и другие похожие повторения?
{{< /comment >}}

{{< comment author="alice" >}}
**chore:** Давай запустим `jabber-walk`, чтобы быть уверенными, что мы не отломали уже известные сценарии.

Вот [документация](https://en.wikipedia.org/wiki/Jabberwocky) для запуска этой джобы. Не стесняйтесь обращаться, если тебе нужна будет какая-либо помощь!
{{< /comment >}}

{{< comment author="ccat" >}}
**praise:** Прекрасный тест!
{{< /comment >}}

## Лучшие практики

Они будут расширены позже, а пока приведем несколько рекомендаций по написанию полезных отзывов:

- Рецензирование окупается в геометрической прогрессии
- Оставляйте полезные комментарии
- Объединяйте похожие комментарии
- Заменяйте "вы" на "мы".
- Заменяйте "должен" на "мог бы"

## Хотите сделать этот проект лучше?

Привет! Здесь должна была быть ссылка на оригинальный репозиторий проекта, кстати вот [она](https://gitlab.com/conventionalcomments/conventionalcomments.gitlab.io).
Однако если вы хотите помочь с переводом или обновлением этой страницы, можно заводить пулл реквесты в [этот репозиторий](https://github.com/kotrikd/conventionalcomments-ru). Я постараюсь в краткие сроки рассмотреть ваш реквест!

## Также известные техники

- [Conventional Commits](https://www.conventionalcommits.org)
- [Google Engineering Practices](https://github.com/google/eng-practices/blob/57c895ad4b09c8941288c04e44a08797b76b4d4d/review/reviewer/standard.md#mentoring)

Персонажи, используемые в примерах, с уважением адаптированы из книги Льюиса Кэрролла [Алиса в стране чудес][alice], проиллюстрированные [Джоном Тенниелом][jtenniel].

[alice]: https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B8%D1%81%D0%B0_%D0%B2_%D0%A1%D1%82%D1%80%D0%B0%D0%BD%D0%B5_%D1%87%D1%83%D0%B4%D0%B5%D1%81
[jtenniel]: https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BD%D0%BD%D0%B8%D0%B5%D0%BB,_%D0%94%D0%B6%D0%BE%D0%BD
